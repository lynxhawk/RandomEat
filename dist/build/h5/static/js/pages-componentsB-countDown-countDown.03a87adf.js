(self["webpackChunkuview2_0_cli"]=self["webpackChunkuview2_0_cli"]||[]).push([[3107],{92684:function(t,i,e){var n=e(35109);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=e(56).Z;s("da262c44",n,!0,{sourceMap:!1,shadowMode:!1})},92304:function(t,i,e){var n=e(86771);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.id,n,""]]),n.locals&&(t.exports=n.locals);var s=e(56).Z;s("cbb2b552",n,!0,{sourceMap:!1,shadowMode:!1})},3544:function(t,i,e){"use strict";var n;e.d(i,{Z:function(){return g}});var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"u-count-down"},[t._t("default",[e("v-uni-text",{staticClass:"u-count-down__text"},[t._v(t._s(t.formattedTime))])])],2)},a=[],o=(e(96647),e(41539),e(39714),e(9653),{props:{time:{type:[String,Number],default:uni.$u.props.countDown.time},format:{type:String,default:uni.$u.props.countDown.format},autoStart:{type:Boolean,default:uni.$u.props.countDown.autoStart},millisecond:{type:Boolean,default:uni.$u.props.countDown.millisecond}}});e(82772),e(74916),e(15306);function u(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,e="".concat(t);while(e.length<i)e="0".concat(e);return e}var c=1e3,r=60*c,m=60*r,l=24*m;function d(t){var i=Math.floor(t/l),e=Math.floor(t%l/m),n=Math.floor(t%m/r),s=Math.floor(t%r/c),a=Math.floor(t%c);return{days:i,hours:e,minutes:n,seconds:s,milliseconds:a}}function f(t,i){var e=i.days,n=i.hours,s=i.minutes,a=i.seconds,o=i.milliseconds;return-1===t.indexOf("DD")?n+=24*e:t=t.replace("DD",u(e)),-1===t.indexOf("HH")?s+=60*n:t=t.replace("HH",u(n)),-1===t.indexOf("mm")?a+=60*s:t=t.replace("mm",u(s)),-1===t.indexOf("ss")?o+=1e3*a:t=t.replace("ss",u(a)),t.replace("SSS",u(o,3))}function _(t,i){return Math.floor(t/1e3)===Math.floor(i/1e3)}var v,h={name:"u-count-down",mixins:[uni.$u.mpMixin,uni.$u.mixin,o],data:function(){return{timer:null,timeData:d(0),formattedTime:"0",runing:!1,endTime:0,remainTime:0}},watch:{time:function(t){this.reset()}},mounted:function(){this.init()},methods:{init:function(){this.reset()},start:function(){this.runing||(this.runing=!0,this.endTime=Date.now()+this.remainTime,this.toTick())},toTick:function(){this.millisecond?this.microTick():this.macroTick()},macroTick:function(){var t=this;this.clearTimeout(),this.timer=setTimeout((function(){var i=t.getRemainTime();_(i,t.remainTime)&&0!==i||t.setRemainTime(i),0!==t.remainTime&&t.macroTick()}),30)},microTick:function(){var t=this;this.clearTimeout(),this.timer=setTimeout((function(){t.setRemainTime(t.getRemainTime()),0!==t.remainTime&&t.microTick()}),50)},getRemainTime:function(){return Math.max(this.endTime-Date.now(),0)},setRemainTime:function(t){this.remainTime=t;var i=d(t);this.$emit("change",i),this.formattedTime=f(this.format,i),t<=0&&(this.pause(),this.$emit("finish"))},reset:function(){this.pause(),this.remainTime=this.time,this.setRemainTime(this.remainTime),this.autoStart&&this.start()},pause:function(){this.runing=!1,this.clearTimeout()},clearTimeout:function(t){function i(){return t.apply(this,arguments)}return i.toString=function(){return t.toString()},i}((function(){clearTimeout(this.timer),this.timer=null}))},beforeDestroy:function(){this.clearTimeout()}},p=h,x=(e(92684),e(69453)),w=(0,x.Z)(p,s,a,!1,null,"c40ea418",null,!1,n,v),g=w.exports},83788:function(t,i,e){"use strict";e.r(i),e.d(i,{default:function(){return l}});var n,s={uCountDown:e(3544).Z,uGrid:e(49710).Z,uGridItem:e(98671).Z,uIcon:e(38275).Z},a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-uni-view",{staticClass:"u-page"},[e("v-uni-view",{staticClass:"u-demo-block"},[e("v-uni-text",{staticClass:"u-demo-block__title"},[t._v("基础用法")]),e("v-uni-view",{staticClass:"u-demo-block__content"},[e("u-count-down",{attrs:{time:108e6,format:"HH:mm:ss",autoStart:!0,millisecond:!0},on:{finish:function(i){arguments[0]=i=t.$handleEvent(i),t.finish.apply(void 0,arguments)}}})],1)],1),e("v-uni-view",{staticClass:"u-demo-block"},[e("v-uni-text",{staticClass:"u-demo-block__title"},[t._v("自定义格式")]),e("v-uni-view",{staticClass:"u-demo-block__content"},[e("u-count-down",{attrs:{time:108e6,format:"DD:HH:mm:ss",autoStart:!0,millisecond:!0},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.onChange.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"time"},[e("v-uni-text",{staticClass:"time__item"},[t._v(t._s(t.timeData.days)+" 天")]),e("v-uni-text",{staticClass:"time__item"},[t._v(t._s(t.timeData.hours>10?t.timeData.hours:"0"+t.timeData.hours)+" 时")]),e("v-uni-text",{staticClass:"time__item"},[t._v(t._s(t.timeData.minutes)+" 分")]),e("v-uni-text",{staticClass:"time__item"},[t._v(t._s(t.timeData.seconds)+" 秒")])],1)],1)],1)],1),e("v-uni-view",{staticClass:"u-demo-block"},[e("v-uni-text",{staticClass:"u-demo-block__title"},[t._v("毫秒级渲染")]),e("v-uni-view",{staticClass:"u-demo-block__content"},[e("u-count-down",{attrs:{time:108e6,format:"HH:mm:ss:SSS",autoStart:!0,millisecond:!0}})],1)],1),e("v-uni-view",{staticClass:"u-demo-block"},[e("v-uni-text",{staticClass:"u-demo-block__title"},[t._v("自定义样式")]),e("v-uni-view",{staticClass:"u-demo-block__content"},[e("u-count-down",{attrs:{time:108e6,format:"HH:mm:ss",autoStart:!0,millisecond:!0},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.onChange.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"time"},[e("v-uni-view",{staticClass:"time__custom"},[e("v-uni-text",{staticClass:"time__custom__item"},[t._v(t._s(t.timeData.hours>10?t.timeData.hours:"0"+t.timeData.hours))])],1),e("v-uni-text",{staticClass:"time__doc"},[t._v(":")]),e("v-uni-view",{staticClass:"time__custom"},[e("v-uni-text",{staticClass:"time__custom__item"},[t._v(t._s(t.timeData.minutes))])],1),e("v-uni-text",{staticClass:"time__doc"},[t._v(":")]),e("v-uni-view",{staticClass:"time__custom"},[e("v-uni-text",{staticClass:"time__custom__item"},[t._v(t._s(t.timeData.seconds))])],1)],1)],1)],1)],1),e("v-uni-view",{staticClass:"u-demo-block"},[e("v-uni-text",{staticClass:"u-demo-block__title"},[t._v("手动控制")]),e("v-uni-view",{staticClass:"u-demo-block__content"},[e("u-count-down",{ref:"countDown",attrs:{time:3e3,format:"ss:SSS",autoStart:!1,millisecond:!0}})],1),e("u-grid",{attrs:{border:!0,customStyle:{marginTop:"10px"}}},[e("u-grid-item",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.reset.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"count-down__grid-item"},[e("u-icon",{attrs:{name:"reload",size:22}}),e("v-uni-text",{staticClass:"count-down__grid-item__grid-text"},[t._v("重置")])],1)],1),e("u-grid-item",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.start.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"count-down__grid-item"},[e("v-uni-view",{staticClass:"count-down__grid-item__circle"},[e("u-icon",{attrs:{color:"#fff",name:"play-right-fill",size:22}})],1),e("v-uni-text",{staticClass:"count-down__grid-item__grid-text"},[t._v("开始")])],1)],1),e("u-grid-item",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.pause.apply(void 0,arguments)}}},[e("v-uni-view",{staticClass:"count-down__grid-item"},[e("u-icon",{attrs:{name:"pause-circle",size:22}}),e("v-uni-text",{staticClass:"count-down__grid-item__grid-text"},[t._v("暂停")])],1)],1)],1)],1)],1)},o=[],u={data:function(){return{timeData:{}}},onLoad:function(){},methods:{start:function(){this.$refs.countDown.start()},pause:function(){this.$refs.countDown.pause()},reset:function(){this.$refs.countDown.reset()},onChange:function(t){this.timeData=t},finish:function(){console.log("finish")}}},c=u,r=(e(92304),e(69453)),m=(0,r.Z)(c,a,o,!1,null,"596af3fe",null,!1,s,n),l=m.exports},35109:function(t,i,e){"use strict";e.r(i);var n=e(43481),s=e.n(n),a=e(2400),o=e.n(a),u=o()(s());u.push([t.id,'@charset "UTF-8";\n/**\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用\n */uni-view[data-v-c40ea418], uni-scroll-view[data-v-c40ea418], uni-swiper-item[data-v-c40ea418]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-count-down__text[data-v-c40ea418]{color:#606266;font-size:15px;line-height:22px}',""]),i["default"]=u},86771:function(t,i,e){"use strict";e.r(i);var n=e(43481),s=e.n(n),a=e(2400),o=e.n(a),u=o()(s());u.push([t.id,'@charset "UTF-8";\n/**\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用\n */.time[data-v-596af3fe]{display:flex;flex-direction:row;align-items:center}.time__custom[data-v-596af3fe]{margin-top:4px;width:22px;height:22px;background-color:#3c9cff;border-radius:4px;display:flex;justify-content:center;align-items:center}.time__custom__item[data-v-596af3fe]{color:#fff;font-size:12px;text-align:center}.time__doc[data-v-596af3fe]{color:#3c9cff;padding:0 4px}.time__item[data-v-596af3fe]{color:#606266;font-size:15px;margin-right:4px}.u-view[data-v-596af3fe]{padding:40px 20px 0 20px}.u-view__title[data-v-596af3fe]{font-size:14px;color:#8f9ca2;margin-bottom:10px}.count-down__grid-item[data-v-596af3fe]{width:70px;height:70px;display:flex;flex-direction:row;justify-content:center;align-items:center}.count-down__grid-item__circle[data-v-596af3fe]{width:32px;height:32px;border-radius:32px;background-color:#3c9cff;display:flex;justify-content:center;align-items:center;box-shadow:1px 1px 4px rgba(155,191,255,.7)}.count-down__grid-item__grid-text[data-v-596af3fe]{font-size:14px;color:#909399;box-sizing:border-box;margin-left:6px}',""]),i["default"]=u}}]);