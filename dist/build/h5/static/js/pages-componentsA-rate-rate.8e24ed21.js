(self["webpackChunkuview2_0_cli"]=self["webpackChunkuview2_0_cli"]||[]).push([[9340],{55116:function(t,e,i){var a=i(48679);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var n=i(56).Z;n("b20bf62c",a,!0,{sourceMap:!1,shadowMode:!1})},70891:function(t,e,i){var a=i(70917);a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.id,a,""]]),a.locals&&(t.exports=a.locals);var n=i(56).Z;n("2a47139e",a,!0,{sourceMap:!1,shadowMode:!1})},86573:function(t,e,i){"use strict";i.d(e,{Z:function(){return h}});var a,n={uIcon:i(38275).Z},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{ref:"u-rate",staticClass:"u-rate",style:[t.$u.addStyle(t.customStyle)],attrs:{id:t.elId}},[i("v-uni-view",{staticClass:"u-rate__content",on:{touchmove:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.touchMove.apply(void 0,arguments)},touchend:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.touchEnd.apply(void 0,arguments)}}},t._l(Number(t.count),(function(e,a){return i("v-uni-view",{key:a,staticClass:"u-rate__content__item",class:[t.elClass]},[i("v-uni-view",{ref:"u-rate__content__item__icon-wrap",refInFor:!0,staticClass:"u-rate__content__item__icon-wrap",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.clickHandler(e,a+1)}}},[i("u-icon",{attrs:{name:Math.floor(t.activeIndex)>a?t.activeIcon:t.inactiveIcon,color:t.disabled?"#c8c9cc":Math.floor(t.activeIndex)>a?t.activeColor:t.inactiveColor,"custom-style":{"padding-left":t.$u.addUnit(t.gutter/2),"padding-right":t.$u.addUnit(t.gutter/2)},size:t.size}})],1),t.allowHalf?i("v-uni-view",{ref:"u-rate__content__item__icon-wrap",refInFor:!0,staticClass:"u-rate__content__item__icon-wrap u-rate__content__item__icon-wrap--half",style:[{width:t.$u.addUnit(t.rateWidth/2)}],on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.clickHandler(e,a+1)}}},[i("u-icon",{attrs:{name:Math.ceil(t.activeIndex)>a?t.activeIcon:t.inactiveIcon,color:t.disabled?"#c8c9cc":Math.ceil(t.activeIndex)>a?t.activeColor:t.inactiveColor,"custom-style":{"padding-left":t.$u.addUnit(t.gutter/2),"padding-right":t.$u.addUnit(t.gutter/2)},size:t.size}})],1):t._e()],1)})),1)],1)},u=[],o=i(66407),c=i(4587),l=(i(9653),{props:{value:{type:[String,Number],default:uni.$u.props.rate.value},count:{type:[String,Number],default:uni.$u.props.rate.count},disabled:{type:Boolean,default:uni.$u.props.rate.disabled},readonly:{type:Boolean,default:uni.$u.props.rate.readonly},size:{type:[String,Number],default:uni.$u.props.rate.size},inactiveColor:{type:String,default:uni.$u.props.rate.inactiveColor},activeColor:{type:String,default:uni.$u.props.rate.activeColor},gutter:{type:[String,Number],default:uni.$u.props.rate.gutter},minCount:{type:[String,Number],default:uni.$u.props.rate.minCount},allowHalf:{type:Boolean,default:uni.$u.props.rate.allowHalf},activeIcon:{type:String,default:uni.$u.props.rate.activeIcon},inactiveIcon:{type:String,default:uni.$u.props.rate.inactiveIcon},touchable:{type:Boolean,default:uni.$u.props.rate.touchable}}}),r={name:"u-rate",mixins:[uni.$u.mpMixin,uni.$u.mixin,l],data:function(){return{elId:uni.$u.guid(),elClass:uni.$u.guid(),rateBoxLeft:0,activeIndex:this.value,rateWidth:0,moving:!1}},watch:{value:function(t){this.activeIndex=t},activeIndex:"emitEvent"},methods:{init:function(){var t=this;uni.$u.sleep().then((function(){t.getRateItemRect(),t.getRateIconWrapRect()}))},getRateItemRect:function(){var t=this;return(0,c.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,uni.$u.sleep();case 2:t.$uGetRect("#"+t.elId).then((function(e){t.rateBoxLeft=e.left}));case 3:case"end":return e.stop()}}),e)})))()},getRateIconWrapRect:function(){var t=this;this.$uGetRect("."+this.elClass).then((function(e){t.rateWidth=e.width}))},touchMove:function(t){if(this.touchable){this.preventEvent(t);var e=t.changedTouches[0].pageX;this.getActiveIndex(e)}},touchEnd:function(t){if(this.touchable){this.preventEvent(t);var e=t.changedTouches[0].pageX;this.getActiveIndex(e)}},clickHandler:function(t,e){if("ios"!==uni.$u.os()||!this.moving){this.preventEvent(t);var i=0;i=t.changedTouches[0].pageX,this.getActiveIndex(i,!0)}},emitEvent:function(){this.$emit("change",this.activeIndex),this.$emit("input",this.activeIndex)},getActiveIndex:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.disabled&&!this.readonly){var a=this.rateWidth*this.count+this.rateBoxLeft;t=uni.$u.range(this.rateBoxLeft,a,t)-this.rateBoxLeft;var n,s=t;if(this.allowHalf){n=Math.floor(s/this.rateWidth);var u=s%this.rateWidth;u<=this.rateWidth/2&&u>0?n+=.5:u>this.rateWidth/2&&n++}else{n=Math.floor(s/this.rateWidth);var o=s%this.rateWidth;i?o>0&&n++:o>this.rateWidth/2&&n++}this.activeIndex=Math.min(n,this.count),this.activeIndex<this.minCount&&(this.activeIndex=this.minCount),setTimeout((function(){e.moving=!0}),10),setTimeout((function(){e.moving=!1}),10)}}},mounted:function(){this.init()}},v=r,d=(i(55116),i(69453)),_=(0,d.Z)(v,s,u,!1,null,"30ed47a6",null,!1,n,a),h=_.exports},23862:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return v}});var a,n={uRate:i(86573).Z},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"u-page"},[i("v-uni-view",{staticClass:"u-demo-block"},[i("v-uni-text",{staticClass:"u-demo-block__title"},[t._v("基本案例")]),i("v-uni-view",{staticClass:"u-demo-block__content"},[i("v-uni-view",{staticClass:"u-page__tag-item"},[i("u-rate",{attrs:{size:"20"}})],1)],1)],1),i("v-uni-view",{staticClass:"u-demo-block"},[i("v-uni-text",{staticClass:"u-demo-block__title"},[t._v("自定义选中星星数量")]),i("v-uni-view",{staticClass:"u-demo-block__content"},[i("v-uni-view",{staticClass:"u-page__tag-item"},[i("u-rate",{attrs:{size:"20"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)],1)],1),i("v-uni-view",{staticClass:"u-demo-block"},[i("v-uni-text",{staticClass:"u-demo-block__title"},[t._v("自定义星星大小")]),i("v-uni-view",{staticClass:"u-demo-block__content"},[i("v-uni-view",{staticClass:"u-page__tag-item"},[i("u-rate",{attrs:{size:"30",count:"4"}})],1)],1)],1),i("v-uni-view",{staticClass:"u-demo-block"},[i("v-uni-text",{staticClass:"u-demo-block__title"},[t._v("是否禁用评分")]),i("v-uni-view",{staticClass:"u-demo-block__content"},[i("v-uni-view",{staticClass:"u-page__rate-item"},[i("u-rate",{attrs:{size:"20",disabled:!0}})],1)],1)],1),i("v-uni-view",{staticClass:"u-demo-block"},[i("v-uni-text",{staticClass:"u-demo-block__title"},[t._v("是否只读评分")]),i("v-uni-view",{staticClass:"u-demo-block__content"},[i("v-uni-view",{staticClass:"u-page__rate-item"},[i("u-rate",{attrs:{size:"20",readonly:!0}})],1)],1)],1),i("v-uni-view",{staticClass:"u-demo-block"},[i("v-uni-text",{staticClass:"u-demo-block__title"},[t._v("自定义选中星星颜色")]),i("v-uni-view",{staticClass:"u-demo-block__content"},[i("v-uni-view",{staticClass:"u-page__rate-item"},[i("u-rate",{attrs:{size:"20",activeColor:"#2979ff"},model:{value:t.activeColorValue,callback:function(e){t.activeColorValue=e},expression:"activeColorValue"}})],1)],1)],1),i("v-uni-view",{staticClass:"u-demo-block"},[i("v-uni-text",{staticClass:"u-demo-block__title"},[t._v("自定义未选中星星颜色")]),i("v-uni-view",{staticClass:"u-demo-block__content"},[i("v-uni-view",{staticClass:"u-page__rate-item"},[i("u-rate",{attrs:{size:"20",inactiveColor:"#2979ff"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1)],1)],1),i("v-uni-view",{staticClass:"u-demo-block"},[i("v-uni-text",{staticClass:"u-demo-block__title"},[t._v("禁止触摸选择")]),i("v-uni-view",{staticClass:"u-demo-block__content"},[i("v-uni-view",{staticClass:"u-page__rate-item"},[i("u-rate",{attrs:{size:"20",touchable:!1}})],1)],1)],1),i("v-uni-view",{staticClass:"u-demo-block"},[i("v-uni-text",{staticClass:"u-demo-block__title"},[t._v("允许触摸选择")]),i("v-uni-view",{staticClass:"u-demo-block__content"},[i("v-uni-view",{staticClass:"u-page__rate-item"},[i("u-rate",{attrs:{size:"20",touchable:!0}})],1)],1)],1),i("v-uni-view",{staticClass:"u-demo-block"},[i("v-uni-text",{staticClass:"u-demo-block__title"},[t._v("是否允许半星")]),i("v-uni-view",{staticClass:"u-demo-block__content"},[i("v-uni-view",{staticClass:"u-page__rate-item"},[i("u-rate",{attrs:{size:"20",allowHalf:!0},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.change.apply(void 0,arguments)}},model:{value:t.HalfValue,callback:function(e){t.HalfValue=e},expression:"HalfValue"}})],1)],1)],1),i("v-uni-view",{staticClass:"u-demo-block"},[i("v-uni-text",{staticClass:"u-demo-block__title"},[t._v("自定义选中的图标")]),i("v-uni-view",{staticClass:"u-demo-block__content"},[i("v-uni-view",{staticClass:"u-page__rate-item"},[i("u-rate",{attrs:{size:"20",inactiveIcon:"heart",activeIcon:"heart-fill"},model:{value:t.activeIconValue,callback:function(e){t.activeIconValue=e},expression:"activeIconValue"}})],1)],1)],1)],1)},u=[],o={data:function(){return{value:3,value1:2,activeColorValue:3,HalfValue:3.5,activeIconValue:3}},watch:{value:function(t,e){}},methods:{change:function(t){}}},c=o,l=(i(70891),i(69453)),r=(0,l.Z)(c,s,u,!1,null,"559427ce",null,!1,n,a),v=r.exports},48679:function(t,e,i){"use strict";i.r(e);var a=i(43481),n=i.n(a),s=i(2400),u=i.n(s),o=u()(n());o.push([t.id,'@charset "UTF-8";\n/**\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用\n */uni-view[data-v-30ed47a6], uni-scroll-view[data-v-30ed47a6], uni-swiper-item[data-v-30ed47a6]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-rate[data-v-30ed47a6]{\ndisplay:flex;\nflex-direction:row;align-items:center;margin:0;padding:0;touch-action:none}.u-rate__content[data-v-30ed47a6]{\ndisplay:flex;\nflex-direction:row}.u-rate__content__item[data-v-30ed47a6]{position:relative}.u-rate__content__item__icon-wrap--half[data-v-30ed47a6]{position:absolute;overflow:hidden;top:0;left:0}.u-icon[data-v-30ed47a6]{box-sizing:border-box}',""]),e["default"]=o},70917:function(t,e,i){"use strict";i.r(e);var a=i(43481),n=i.n(a),s=i(2400),u=i.n(s),o=u()(n());o.push([t.id,'@charset "UTF-8";/**\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用\n */',""]),e["default"]=o}}]);