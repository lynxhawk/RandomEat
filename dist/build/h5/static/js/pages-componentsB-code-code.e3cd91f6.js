(self["webpackChunkuview2_0_cli"]=self["webpackChunkuview2_0_cli"]||[]).push([[720],{39115:function(e,t,n){var i=n(20943);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var s=n(56).Z;s("2ac5d830",i,!0,{sourceMap:!1,shadowMode:!1})},93728:function(e,t,n){var i=n(4e4);i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals);var s=n(56).Z;s("1a07b154",i,!0,{sourceMap:!1,shadowMode:!1})},52066:function(e,t,n){"use strict";var i;n.d(t,{Z:function(){return h}});var s,u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"u-code"})},a=[],o=(n(9653),n(74916),n(15306),{props:{seconds:{type:[String,Number],default:uni.$u.props.code.seconds},startText:{type:String,default:uni.$u.props.code.startText},changeText:{type:String,default:uni.$u.props.code.changeText},endText:{type:String,default:uni.$u.props.code.endText},keepRunning:{type:Boolean,default:uni.$u.props.code.keepRunning},uniqueKey:{type:String,default:uni.$u.props.code.uniqueKey}}}),c={name:"u-code",mixins:[uni.$u.mpMixin,uni.$u.mixin,o],data:function(){return{secNum:this.seconds,timer:null,canGetCode:!0}},mounted:function(){this.checkKeepRunning()},watch:{seconds:{immediate:!0,handler:function(e){this.secNum=e}}},methods:{checkKeepRunning:function(){var e=Number(uni.getStorageSync(this.uniqueKey+"_$uCountDownTimestamp"));if(!e)return this.changeEvent(this.startText);var t=Math.floor(+new Date/1e3);this.keepRunning&&e&&e>t?(this.secNum=e-t,uni.removeStorageSync(this.uniqueKey+"_$uCountDownTimestamp"),this.start()):this.changeEvent(this.startText)},start:function(){var e=this;this.timer&&(clearInterval(this.timer),this.timer=null),this.$emit("start"),this.canGetCode=!1,this.changeEvent(this.changeText.replace(/x|X/,this.secNum)),this.timer=setInterval((function(){--e.secNum?e.changeEvent(e.changeText.replace(/x|X/,e.secNum)):(clearInterval(e.timer),e.timer=null,e.changeEvent(e.endText),e.secNum=e.seconds,e.$emit("end"),e.canGetCode=!0)}),1e3),this.setTimeToStorage()},reset:function(){this.canGetCode=!0,clearInterval(this.timer),this.secNum=this.seconds,this.changeEvent(this.endText)},changeEvent:function(e){this.$emit("change",e)},setTimeToStorage:function(){if(this.keepRunning&&this.timer&&this.secNum>0&&this.secNum<=this.seconds){var e=Math.floor(+new Date/1e3);uni.setStorage({key:this.uniqueKey+"_$uCountDownTimestamp",data:e+Number(this.secNum)})}}},beforeDestroy:function(){this.setTimeToStorage(),clearTimeout(this.timer),this.timer=null}},d=c,r=(n(39115),n(69453)),l=(0,r.Z)(d,u,a,!1,null,"83991a1a",null,!1,i,s),h=l.exports},67011:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var i,s={uCode:n(52066).Z,uButton:n(40216).Z},u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"u-page"},[n("v-uni-view",{staticClass:"u-demo-block"},[n("v-uni-text",{staticClass:"u-demo-block__title"},[e._v("基础功能")]),n("v-uni-view",{staticClass:"u-demo-block__content"},[n("u-code",{ref:"uCode",attrs:{seconds:"20","change-text":"XS获取"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.codeChange.apply(void 0,arguments)},start:function(t){arguments[0]=t=e.$handleEvent(t),e.disabled1=!0},end:function(t){arguments[0]=t=e.$handleEvent(t),e.disabled1=!1}}}),n("u-button",{attrs:{text:e.tips,type:"success",size:"small",disabled:e.disabled1},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCode.apply(void 0,arguments)}}})],1)],1),n("v-uni-view",{staticClass:"u-demo-block"},[n("v-uni-text",{staticClass:"u-demo-block__title"},[e._v("保持倒计时(开始后，左上角返退出此页面再进入，会发现倒计时还在继续)")]),n("v-uni-view",{staticClass:"u-demo-block__content"},[n("u-code",{ref:"uCode1",attrs:{"keep-running":!0,"change-text":"倒计时XS"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.codeChange1.apply(void 0,arguments)},start:function(t){arguments[0]=t=e.$handleEvent(t),e.disabled2=!0},end:function(t){arguments[0]=t=e.$handleEvent(t),e.disabled2=!1}}}),n("u-button",{attrs:{type:"primary",text:e.tips1,size:"small",disabled:e.disabled2},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCode1.apply(void 0,arguments)}}})],1)],1),n("v-uni-view",{staticClass:"u-demo-block"},[n("v-uni-text",{staticClass:"u-demo-block__title"},[e._v("文本样式")]),n("v-uni-view",{staticClass:"u-demo-block__content"},[n("u-code",{ref:"uCode2",attrs:{"keep-running":!0,"start-text":"点我获取验证码"},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.codeChange2.apply(void 0,arguments)}}}),n("v-uni-text",{staticClass:"u-page__code-text",attrs:{text:e.tips2},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.getCode2.apply(void 0,arguments)}}},[e._v(e._s(e.tips2))])],1)],1)],1)},a=[],o={data:function(){return{tips:"",tips1:"",tips2:"",disabled1:!1,disabled2:!1,disabled3:!1}},onReady:function(){},methods:{codeChange:function(e){this.tips=e},codeChange1:function(e){this.tips1=e},codeChange2:function(e){this.tips2=e},getCode:function(){var e=this;this.$refs.uCode.canGetCode?(uni.showLoading({title:"正在获取验证码"}),setTimeout((function(){uni.hideLoading(),uni.$u.toast("验证码已发送"),e.$refs.uCode.start()}),2e3)):uni.$u.toast("倒计时结束后再发送")},getCode1:function(){var e=this;this.$refs.uCode1.canGetCode?(uni.showLoading({title:"正在获取验证码"}),setTimeout((function(){uni.hideLoading(),uni.$u.toast("验证码已发送"),e.$refs.uCode1.start()}),2e3)):uni.$u.toast("倒计时结束后再发送")},getCode2:function(){var e=this;this.$refs.uCode2.canGetCode?(uni.showLoading({title:"正在获取验证码"}),setTimeout((function(){uni.hideLoading(),uni.$u.toast("验证码已发送"),e.$refs.uCode2.start()}),2e3)):uni.$u.toast("倒计时结束后再发送")}}},c=o,d=(n(93728),n(69453)),r=(0,d.Z)(c,u,a,!1,null,"6b83095c",null,!1,s,i),l=r.exports},20943:function(e,t,n){"use strict";n.r(t);var i=n(43481),s=n.n(i),u=n(2400),a=n.n(u),o=a()(s());o.push([e.id,'@charset "UTF-8";\n/**\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用\n */uni-view[data-v-83991a1a], uni-scroll-view[data-v-83991a1a], uni-swiper-item[data-v-83991a1a]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}',""]),t["default"]=o},4e4:function(e,t,n){"use strict";n.r(t);var i=n(43481),s=n.n(i),u=n(2400),a=n.n(u),o=a()(s());o.push([e.id,'@charset "UTF-8";\n/**\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用\n */.u-page__code-text[data-v-6b83095c]{color:#3c9cff;font-size:15px}.u-demo-block__content[data-v-6b83095c]{display:flex;flex-direction:row}',""]),t["default"]=o}}]);