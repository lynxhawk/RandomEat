(self["webpackChunkuview2_0_cli"]=self["webpackChunkuview2_0_cli"]||[]).push([[9157],{20026:function(t,e,i){var u=i(15729);u.__esModule&&(u=u.default),"string"===typeof u&&(u=[[t.id,u,""]]),u.locals&&(t.exports=u.locals);var n=i(56).Z;n("f2f24b84",u,!0,{sourceMap:!1,shadowMode:!1})},66679:function(t,e,i){var u=i(1804);u.__esModule&&(u=u.default),"string"===typeof u&&(u=[[t.id,u,""]]),u.locals&&(t.exports=u.locals);var n=i(56).Z;n("3a3e4042",u,!0,{sourceMap:!1,shadowMode:!1})},23166:function(t,e,i){"use strict";i.d(e,{Z:function(){return d}});var u,n={"u-Text":i(88488).Z},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"u-album"},t._l(t.showUrls,(function(e,u){return i("v-uni-view",{key:u,ref:"u-album__row",refInFor:!0,staticClass:"u-album__row",attrs:{forComputedUse:t.albumWidth}},t._l(e,(function(e,n){return i("v-uni-view",{key:n,staticClass:"u-album__row__wrapper",style:[t.imageStyle(u+1,n+1)],on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.previewFullImage&&t.onPreviewTap(t.getSrc(e))}}},[i("v-uni-image",{style:[{width:t.imageWidth,height:t.imageHeight}],attrs:{src:t.getSrc(e),mode:1===t.urls.length?t.imageHeight>0?t.singleMode:"widthFix":t.multipleMode}}),t.showMore&&t.urls.length>t.rowCount*t.showUrls.length&&u===t.showUrls.length-1&&n===t.showUrls[t.showUrls.length-1].length-1?i("v-uni-view",{staticClass:"u-album__row__wrapper__text"},[i("u--text",{attrs:{text:"+"+(t.urls.length-t.maxCount),color:"#fff",size:.3*t.multipleSize,align:"center",customStyle:"justify-content: center"}})],1):t._e()],1)})),1)})),1)},a=[],l=i(66407),r=i(4587),o=(i(21249),i(57658),i(74916),i(77601),i(9653),{props:{urls:{type:Array,default:uni.$u.props.album.urls},keyName:{type:String,default:uni.$u.props.album.keyName},singleSize:{type:[String,Number],default:uni.$u.props.album.singleSize},multipleSize:{type:[String,Number],default:uni.$u.props.album.multipleSize},space:{type:[String,Number],default:uni.$u.props.album.space},singleMode:{type:String,default:uni.$u.props.album.singleMode},multipleMode:{type:String,default:uni.$u.props.album.multipleMode},maxCount:{type:[String,Number],default:uni.$u.props.album.maxCount},previewFullImage:{type:Boolean,default:uni.$u.props.album.previewFullImage},rowCount:{type:[String,Number],default:uni.$u.props.album.rowCount},showMore:{type:Boolean,default:uni.$u.props.album.showMore}}}),c={name:"u-album",mixins:[uni.$u.mpMixin,uni.$u.mixin,o],data:function(){return{singleWidth:0,singleHeight:0,singlePercent:.6}},watch:{urls:{immediate:!0,handler:function(t){1===t.length&&this.getImageRect()}}},computed:{imageStyle:function(){var t=this;return function(e,i){var u=t.space,n=t.rowCount,s=(t.multipleSize,t.urls,uni.$u),a=s.addUnit,l=(s.addStyle,t.showUrls.length),r=(t.urls.length,{marginRight:a(u),marginBottom:a(u)});return e===l&&(r.marginBottom=0),(i===n||e===l&&i===t.showUrls[e-1].length)&&(r.marginRight=0),r}},showUrls:function(){var t=this,e=[];return this.urls.map((function(i,u){if(u+1<=t.maxCount){var n=Math.floor(u/t.rowCount);e[n]||(e[n]=[]),e[n].push(i)}})),e},imageWidth:function(){return uni.$u.addUnit(1===this.urls.length?this.singleWidth:this.multipleSize)},imageHeight:function(){return uni.$u.addUnit(1===this.urls.length?this.singleHeight:this.multipleSize)},albumWidth:function(){var t=0;return t=1===this.urls.length?this.singleWidth:this.showUrls[0].length*this.multipleSize+this.space*(this.showUrls[0].length-1),this.$emit("albumWidth",t),t}},methods:{onPreviewTap:function(t){var e=this,i=this.urls.map((function(t){return e.getSrc(t)}));uni.previewImage({current:t,urls:i})},getSrc:function(t){return uni.$u.test.object(t)?this.keyName&&t[this.keyName]||t.src:t},getImageRect:function(){var t=this,e=this.getSrc(this.urls[0]);uni.getImageInfo({src:e,success:function(e){var i=e.width>=e.height;t.singleWidth=i?t.singleSize:e.width/e.height*t.singleSize,t.singleHeight=i?e.height/e.width*t.singleWidth:t.singleSize},fail:function(){t.getComponentWidth()}})},getComponentWidth:function(){var t=this;return(0,r.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,uni.$u.sleep(30);case 2:t.$uGetRect(".u-album__row").then((function(e){t.singleWidth=e.width*t.singlePercent}));case 3:case"end":return e.stop()}}),e)})))()}}},m=c,p=(i(20026),i(69453)),v=(0,p.Z)(m,s,a,!1,null,"243a8cff",null,!1,n,u),d=v.exports},94806:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return m}});var u,n={"u-Text":i(88488).Z,uAlbum:i(23166).Z},s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"u-page"},[i("v-uni-view",{staticClass:"u-demo-block"},[i("v-uni-text",{staticClass:"u-demo-block__title"},[t._v("基础使用")]),i("v-uni-view",{staticClass:"u-demo-block__content"},[i("v-uni-view",{staticClass:"album"},[i("v-uni-view",{staticClass:"album__avatar"},[i("v-uni-image",{staticStyle:{width:"32px",height:"32px"},attrs:{src:"/static/uview/common/logo.png",mode:""}})],1),i("v-uni-view",{staticClass:"album__content"},[i("u--text",{attrs:{text:"uView UI",type:"primary",bold:!0,size:"17"}}),i("u--text",{attrs:{margin:"0 0 8px 0",text:"全面的组件和便捷的工具会让您信手拈来，如鱼得水"}}),i("u-album",{attrs:{urls:t.urls1,keyName:"src2"}})],1)],1)],1)],1),i("v-uni-view",{staticClass:"u-demo-block"},[i("v-uni-text",{staticClass:"u-demo-block__title"},[t._v("多图模式")]),i("v-uni-view",{staticClass:"u-demo-block__content"},[i("v-uni-view",{staticClass:"album"},[i("v-uni-view",{staticClass:"album__avatar"},[i("v-uni-image",{staticStyle:{width:"32px",height:"32px"},attrs:{src:"/static/uview/common/logo.png",mode:""}})],1),i("v-uni-view",{staticClass:"album__content"},[i("u--text",{attrs:{text:"uView UI",type:"primary",bold:!0,size:"17"}}),i("u--text",{attrs:{margin:"0 0 8px 0",text:"全面的组件和便捷的工具会让您信手拈来，如鱼得水"}}),i("u-album",{attrs:{urls:t.urls2}})],1)],1)],1)],1),i("v-uni-view",{staticClass:"u-demo-block"},[i("v-uni-text",{staticClass:"u-demo-block__title"},[t._v("图文对齐")]),i("v-uni-view",{staticClass:"u-demo-block__content"},[i("v-uni-view",{staticClass:"album"},[i("v-uni-view",{staticClass:"album__avatar"},[i("v-uni-image",{staticStyle:{width:"32px",height:"32px"},attrs:{src:"/static/uview/common/logo.png",mode:""}})],1),i("v-uni-view",{staticClass:"album__content"},[i("u--text",{attrs:{text:"uView UI",type:"primary",bold:!0,size:"17"}}),i("v-uni-view",{style:{marginBottom:"8px",width:t.albumWidth+"px"}},[i("u--text",{attrs:{text:"全面的组件和便捷的工具会让您信手拈来，如鱼得水",customStyle:{width:t.albumWidth+"px"}}})],1),i("u-album",{attrs:{urls:t.urls2,multipleSize:"68"},on:{albumWidth:function(e){arguments[0]=e=t.$handleEvent(e),function(e){return t.albumWidth=e}.apply(void 0,arguments)}}})],1)],1)],1)],1),i("v-uni-view",{staticClass:"u-demo-block"},[i("v-uni-text",{staticClass:"u-demo-block__title"},[t._v("更改裁剪模式")]),i("v-uni-view",{staticClass:"u-demo-block__content"},[i("v-uni-view",{staticClass:"album"},[i("v-uni-view",{staticClass:"album__avatar"},[i("v-uni-image",{staticStyle:{width:"32px",height:"32px"},attrs:{src:"/static/uview/common/logo.png",mode:""}})],1),i("v-uni-view",{staticClass:"album__content"},[i("u--text",{attrs:{text:"uView UI",type:"primary",bold:!0,size:"17"}}),i("u--text",{attrs:{margin:"0 0 8px 0",text:"全面的组件和便捷的工具会让您信手拈来，如鱼得水"}}),i("u-album",{attrs:{urls:t.urls3,rowCount:"2",maxCount:"4",multipleMode:"scaleToFill"}})],1)],1)],1)],1),i("v-uni-view",{staticClass:"u-demo-block"},[i("v-uni-text",{staticClass:"u-demo-block__title"},[t._v("更改图片大小")]),i("v-uni-view",{staticClass:"u-demo-block__content"},[i("v-uni-view",{staticClass:"album"},[i("v-uni-view",{staticClass:"album__avatar"},[i("v-uni-image",{staticStyle:{width:"32px",height:"32px"},attrs:{src:"/static/uview/common/logo.png",mode:""}})],1),i("v-uni-view",{staticClass:"album__content"},[i("u--text",{attrs:{text:"uView UI",type:"primary",bold:!0,size:"17"}}),i("u--text",{attrs:{margin:"0 0 8px 0",text:"全面的组件和便捷的工具会让您信手拈来，如鱼得水"}}),i("u-album",{attrs:{urls:t.urls4,rowCount:"2",maxCount:"4",multipleSize:"50"}})],1)],1)],1)],1)],1)},a=[],l={data:function(){return{albumWidth:0,urls1:[{src2:"https://cdn.uviewui.com/uview/album/1.jpg"}],urls2:["https://cdn.uviewui.com/uview/album/1.jpg","https://cdn.uviewui.com/uview/album/2.jpg","https://cdn.uviewui.com/uview/album/3.jpg","https://cdn.uviewui.com/uview/album/4.jpg","https://cdn.uviewui.com/uview/album/5.jpg","https://cdn.uviewui.com/uview/album/6.jpg","https://cdn.uviewui.com/uview/album/7.jpg","https://cdn.uviewui.com/uview/album/8.jpg","https://cdn.uviewui.com/uview/album/9.jpg","https://cdn.uviewui.com/uview/album/10.jpg"],urls3:["https://cdn.uviewui.com/uview/album/5.jpg","https://cdn.uviewui.com/uview/album/6.jpg","https://cdn.uviewui.com/uview/album/7.jpg","https://cdn.uviewui.com/uview/album/8.jpg"],urls4:["https://cdn.uviewui.com/uview/album/7.jpg","https://cdn.uviewui.com/uview/album/8.jpg","https://cdn.uviewui.com/uview/album/9.jpg","https://cdn.uviewui.com/uview/album/10.jpg"]}}},r=l,o=(i(66679),i(69453)),c=(0,o.Z)(r,s,a,!1,null,"3e5e3f22",null,!1,n,u),m=c.exports},15729:function(t,e,i){"use strict";i.r(e);var u=i(43481),n=i.n(u),s=i(2400),a=i.n(s),l=a()(n());l.push([t.id,'@charset "UTF-8";\n/**\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用\n */uni-view[data-v-243a8cff], uni-scroll-view[data-v-243a8cff], uni-swiper-item[data-v-243a8cff]{display:flex;flex-direction:column;flex-shrink:0;flex-grow:0;flex-basis:auto;align-items:stretch;align-content:flex-start}.u-album[data-v-243a8cff]{\ndisplay:flex;\nflex-direction:column}.u-album__row[data-v-243a8cff]{\ndisplay:flex;\nflex-direction:row;flex-wrap:wrap}.u-album__row__wrapper[data-v-243a8cff]{position:relative}.u-album__row__wrapper__text[data-v-243a8cff]{position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.3);\ndisplay:flex;\nflex-direction:row;justify-content:center;align-items:center}',""]),e["default"]=l},1804:function(t,e,i){"use strict";i.r(e);var u=i(43481),n=i.n(u),s=i(2400),a=i.n(s),l=a()(n());l.push([t.id,'@charset "UTF-8";\n/**\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用\n */.album[data-v-3e5e3f22]{display:flex;flex-direction:row;align-items:flex-start}.album__avatar[data-v-3e5e3f22]{background-color:#f3f4f6;padding:5px;border-radius:3px}.album__content[data-v-3e5e3f22]{margin-left:10px;flex:1}',""]),e["default"]=l},39567:function(t,e){"use strict";e.Z={props:{lang:String,sessionFrom:String,sendMessageTitle:String,sendMessagePath:String,sendMessageImg:String,showMessageCard:Boolean,appParameter:String,formType:String,openType:String}}},93194:function(t,e){"use strict";e.Z={props:{openType:String},methods:{onGetUserInfo:function(t){this.$emit("getuserinfo",t.detail)},onContact:function(t){this.$emit("contact",t.detail)},onGetPhoneNumber:function(t){this.$emit("getphonenumber",t.detail)},onError:function(t){this.$emit("error",t.detail)},onLaunchApp:function(t){this.$emit("launchapp",t.detail)},onOpenSetting:function(t){this.$emit("opensetting",t.detail)}}}}}]);